var angular=require("angular");angular.module("clipBoard",[]).directive("clipBoard",function(){var t=function(){return function t(e,o,r){function n(i,c){if(!o[i]){if(!e[i]){var s="function"==typeof require&&require;if(!c&&s)return s(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[i]={exports:{}};e[i][0].call(u.exports,function(t){var o=e[i][1][t];return n(o?o:t)},u,u.exports,t,e,o,r)}return o[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)n(r[i]);return n}({1:[function(t,e,o){var r=t("closest"),n=t("component-event"),a=["focus","blur"];o.bind=function(t,e,o,i,c){return-1!==a.indexOf(o)&&(c=!0),n.bind(t,o,function(o){var n=o.target||o.srcElement;o.delegateTarget=r(n,e,!0,t),o.delegateTarget&&i.call(t,o)},c)},o.unbind=function(t,e,o,r){-1!==a.indexOf(e)&&(r=!0),n.unbind(t,e,o,r)}},{closest:2,"component-event":4}],2:[function(t,e,o){var r=t("matches-selector");e.exports=function(t,e,o){for(var n=o?t:t.parentNode;n&&n!==document;){if(r(n,e))return n;n=n.parentNode}}},{"matches-selector":3}],3:[function(t,e,o){function r(t,e){if(a)return a.call(t,e);for(var o=t.parentNode.querySelectorAll(e),r=0;r<o.length;++r)if(o[r]==t)return!0;return!1}var n=Element.prototype,a=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;e.exports=r},{}],4:[function(t,e,o){var r=window.addEventListener?"addEventListener":"attachEvent",n=window.removeEventListener?"removeEventListener":"detachEvent",a="addEventListener"!==r?"on":"";o.bind=function(t,e,o,n){return t[r](a+e,o,n||!1),o},o.unbind=function(t,e,o,r){return t[n](a+e,o,r||!1),o}},{}],5:[function(t,e,o){function r(){}r.prototype={on:function(t,e,o){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:o}),this},once:function(t,e,o){var r=this,n=function(){r.off(t,n),e.apply(o,arguments)};return this.on(t,n,o)},emit:function(t){var e=[].slice.call(arguments,1),o=((this.e||(this.e={}))[t]||[]).slice(),r=0,n=o.length;for(r;n>r;r++)o[r].fn.apply(o[r].ctx,e);return this},off:function(t,e){var o=this.e||(this.e={}),r=o[t],n=[];if(r&&e)for(var a=0,i=r.length;i>a;a++)r[a].fn!==e&&n.push(r[a]);return n.length?o[t]=n:delete o[t],this}},e.exports=r},{}],6:[function(t,e,o){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o.__esModule=!0;var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}(),a=function(){function t(e){r(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},t.prototype.selectFake=function(){var t=this;this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return t.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.position="absolute",this.fakeElem.style.left="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.selectedText=this.text,document.body.appendChild(this.fakeElem),this.fakeElem.select(),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){if("INPUT"===this.target.nodeName||"TEXTAREA"===this.target.nodeName)this.target.select(),this.selectedText=this.target.value;else{var t=document.createRange(),e=window.getSelection();e.removeAllRanges(),t.selectNodeContents(this.target),e.addRange(t),this.selectedText=e.toString()}this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},n(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!=typeof t||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');this._target=t}},get:function(){return this._target}}]),t}();o["default"]=a,e.exports=o["default"]},{}],7:[function(t,e,o){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){var o="clip-board-"+t;if(e.hasAttribute(o))return e.getAttribute(o)}o.__esModule=!0;var c=t("./clipboard-action"),s=r(c),l=t("delegate-events"),u=r(l),d=t("tiny-emitter"),h=r(d),f=function(t){function e(o,r){n(this,e),t.call(this),this.resolveOptions(r),this.delegateClick(o)}return a(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.delegateClick=function(t){var e=this;this.binding=u["default"].bind(document.body,t,"click",function(t){return e.onClick(t)})},e.prototype.undelegateClick=function(){u["default"].unbind(document.body,"click",this.binding)},e.prototype.onClick=function(t){this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s["default"]({action:this.action(t.delegateTarget),target:this.target(t.delegateTarget),text:this.text(t.delegateTarget),trigger:t.delegateTarget,emitter:this})},e.prototype.defaultAction=function(t){return i("action",t)},e.prototype.defaultTarget=function(t){var e=i("target",t);return e?document.querySelector(e):void 0},e.prototype.defaultText=function(t){return i("text",t)},e.prototype.destroy=function(){this.undelegateClick(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(h["default"]);o["default"]=f,e.exports=o["default"]},{"./clipboard-action":6,"delegate-events":1,"tiny-emitter":5}]},{},[7])(7)}();return{restrict:"A",link:function(e,o,r){new t("[clip-board]")}}}),module.exports=angular;var angular=require("angular");document.documentElement.style.overflowY="hidden";var starkAPP=angular.module("starkAPP",["ngRoute","ngAnimate","routeStyles","baseService","clipBoard"]).config(["$compileProvider","$routeProvider","$locationProvider",function(t,e,o){e.when("/main/",{templateUrl:"./html/main.html"}).when("/all/",{templateUrl:"./html/all.html"}).when("/collection/",{templateUrl:"./html/collection.html"}).when("/forum/",{templateUrl:"./html/forum.html"}).when("/forum/course/",{templateUrl:"./html/forum_course.html"}).otherwise({redirectTo:"/main/"})}]);module.exports=starkAPP;var angular=require("angular");angular.module("baseService",[]).factory("BaseService",["$rootScope","$http",function(t,e){function o(t,e){if(t.keywords){var o=new RegExp(t.keywords.trim(),"i");if(!o.test(e["课程名称"])&&!o.test(e["教师"])&&!o.test(e["选课序号"]))return!1}if(t.time){for(var r=e["时间"].split("{time}"),n=0;n<r.length;n++){if(0===r[n].trim().length)return!0;if(i(t.time.start,t.time.end,r[n].trim()))return!0}return!1}return!0}function r(t){if(0===t.category.length)return[];if(0===t.keywords.length&&9===t.category.length)return[];var e=[];if(t.category.length>0)t.category.forEach(function(r){COURSE_DATA[r].forEach(function(r){o(t,r)&&e.push(r)})});else for(var r in COURSE_DATA)COURSE_DATA[r].forEach(function(r){o(t,r)&&e.push(r)});return e}function n(t){var e=t.trim(),o=a(e.split(" ")[0]),r=parseInt(e.split(" ")[1].split("-")[1])-parseInt(e.split(" ")[1].split("-")[0])+1,n=parseInt(e.split(" ")[1].split("-")[0]);return{weekday:o-1,length:r,start:n-1}}function a(t){var e;switch(t){case"一":e=1;break;case"二":e=2;break;case"三":e=3;break;case"四":e=4;break;case"五":e=5;break;case"六":e=6}return e}function i(t,e,o){var r=o.trim().split(" ")[0],n=o.trim().split(" ")[1].split("-")[0],a=o.trim().split(" ")[1].split("-")[1],i=r+" "+n,s=r+" "+a;return c(t,i)&&c(s,e)?!0:!1}function c(t,e){var o=a(t.trim().split(" ")[0]),r=a(e.trim().split(" ")[0]),n=parseInt(t.trim().split(" ")[1]),i=parseInt(e.trim().split(" ")[1]);return o===r?i>=n:r>o}String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};var s={data:[[],[],[],[],[],[]],init:function(){this.data.forEach(function(t){for(var e=0;13>e;e++)t.push(0)}),void 0!==localStorage.courseModelData&&(this.data=JSON.parse(localStorage.courseModelData))},update:function(e){for(var o=e["时间"].split("{time}"),r=this,a=[],i=[],c=0;c<o.length;c++){console.log("check");for(var s=n(o[c]),l=s.weekday,u=s.start,d=s.length,h=0;d>h;h++)console.log(this.data[l][u+h]),0!=this.data[l][u+h]&&-1==a.indexOf(this.data[l][u+h]["课程名称"])&&(a.push(this.data[l][u+h]["课程名称"]),i.push(this.data[l][u+h]))}var f=a.length>1?a.join("》、《"):a[0];if(a.length>0){if(!confirm("这门课与《"+f+"》冲突，是否替换？"))return;i.forEach(function(t){r.remove(t)}),this.update(e)}for(var c=0;c<o.length;c++){var s=n(o[c]),l=s.weekday,u=s.start,d=s.length,p=c;r.updateOne(e,l,u,d,p)}var g=this.data;localStorage.courseModelData=JSON.stringify(g),t.$broadcast("courseModelUpdate",g)},updateOne:function(t,e,o,r,n){for(var a=0;r>a;a++)s.data[e][o+a]=t,s.data[e][o+a].rank=n},remove:function(e){var o=e["时间"].split("{time}"),r=this;o.forEach(function(t){var o=n(t);r.removeOne(e,o)});var a=this.data;localStorage.courseModelData=JSON.stringify(a),t.$broadcast("courseModelUpdate",a)},removeOne:function(t,e){for(var o=e.weekday,r=0;13>r;r++)this.data[o][r]["选课序号"]==t["选课序号"]&&(this.data[o][r]=0)},check:function(t){var e=[];return this.data.forEach(function(t){t.forEach(function(t){0!=t&&-1===e.indexOf(t["选课序号"])&&e.push(t["选课序号"])})}),-1!=e.indexOf(t)},getCourseData:function(){var t=[],e=[],o=["#66CCFF","#FF9900","#99CC33","#FF6666","#33CC99","#336699","#CCCC44","#339933"],r=0;return this.data.forEach(function(a){a.forEach(function(a){if(console.log(a),a&&-1===e.indexOf(a["选课序号"])){var i=a["时间"].split("{time}");i.forEach(function(e){var i={name:a["课程名称"],day:n(e).weekday,section:e.split(" ")[1],info:a["教室"]+"("+a["教师"]+")","background-color":o[r]};t.push(i)}),r++,r===o.length&&(r=0),e.push(a["选课序号"])}})}),t}};s.init();var l={data:[],init:function(){void 0!==localStorage.collectionModelData&&(this.data=JSON.parse(localStorage.collectionModelData))},update:function(e){for(var o=0;o<this.data.length;o++)if(this.data[o]["选课序号"]==e["选课序号"])return;this.data.push(e);var r=this.data;localStorage.collectionModelData=JSON.stringify(r),t.$broadcast("collectionUpdate",r)},remove:function(e){for(var o=0;o<this.data.length;o++)if(this.data[o]["选课序号"]==e){this.data.splice(o,1);break}var r=this.data;localStorage.collectionModelData=JSON.stringify(r),t.$broadcast("collectionUpdate",r)},check:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e]["选课序号"]==t)return!0;return!1}};l.init();var u=function(t){return e.post("/xk/api/",t)},d={search:r,timeParser:n,courseModel:s,collectionModel:l,judgeTime:i,saveToPhone:u};return d}]).filter("timeFilter",function(){var t=function(t){return void 0!=t?t.replace(/{time}/g,"，"):t};return t}),module.exports=angular;var starkAPP=require("./app.js");starkAPP.controller("allController",["$scope","$rootScope","BaseService","$timeout","$location",function(t,e,o,r,n){var a=[];for(name in COURSE_DATA)a.push({name:name,courses:COURSE_DATA[name]});t.data=a;var i;t.handle={},t.showHandle=function(){var t=t||window.event;i=this.course,this.$parent.category.handle={},o.courseModel.check(this.course["选课序号"])?(this.$parent.category.handle.text1="已选入课表",this.$parent.category.handle.isInCourseTable=!0):(this.$parent.category.handle.text1="加入课表",this.$parent.category.handle.isInCourseTable=!1),o.collectionModel.check(this.course["选课序号"])?(this.$parent.category.handle.text2="已在收藏夹",this.$parent.category.handle.isInCollection=!0):(this.$parent.category.handle.text2="加入收藏夹",this.$parent.category.handle.isInCollection=!1);var e=t.clientY,r=t.clientX;this.$parent.category.handle.name=this.course["课程名称"],this.$parent.category.handle.teacher=this.course["教师"],this.$parent.category.handle.position="left:"+r+"px;top:"+e+"px;",this.$parent.category.handleIsShow=!0},t.closeHandle=function(){this.category.handleIsShow=!1},t.update=function(){o.courseModel.update(i)},t.addIntoBox=function(){o.collectionModel.update(i)}}]),module.exports=starkAPP;var starkAPP=require("./app.js");starkAPP.controller("collectionController",["$scope","$rootScope","BaseService","$timeout","$location",function(t,e,o,r,n){function a(){t.courses=o.collectionModel.data,t.courses.forEach(function(t){o.courseModel.check(t["选课序号"])?t.isInCourseTable=!0:t.isInCourseTable=!1,t.text=t.isInCourseTable?"已加入课表":"加入课表"})}a(),t.$on("collectionUpdate",function(t){a()}),t.$on("courseModelUpdate",function(t){a()}),t.addCourse=function(){o.courseModel.update(this.course)},t.remove=function(){o.collectionModel.remove(this.course["选课序号"])}}]),module.exports=starkAPP;var starkAPP=require("./app.js");starkAPP.controller("courseTableController",["$scope","BaseService","$timeout",function(t,e,o){function r(o){function r(e,o){if(2==o.length&&(t.tableView[o.weekday][o.start]={text1:e["选课序号"],text2:e["课程名称"],length:o.length,No:0,show:!0,style:"",locate:"start"},t.tableView[o.weekday][o.start+1]={text1:e["教室"],text2:e["教师"],length:o.length,No:1,show:!0,locate:"end"}),3==o.length&&(t.tableView[o.weekday][o.start]={text1:e["选课序号"],length:o.length,No:0,show:!0,style:"",locate:"start"},t.tableView[o.weekday][o.start+1]={text1:e["课程名称"],length:o.length,No:1,show:!0,style:"",locate:"body"},t.tableView[o.weekday][o.start+2]={text1:e["教室"],text2:e["教师"],length:o.length,No:2,show:!0,style:"",locate:"end"}),o.length>=4){for(var r=["选课序号","课程名称","教室","教师"],n=Math.floor((o.length-4)/2),a=0;a<o.length;a++)t.tableView[o.weekday][o.start+a]={length:o.length,No:a,show:!0,style:"",locate:"body"},0==a&&(t.tableView[o.weekday][o.start+a].locate="start"),a==o.length-1&&(t.tableView[o.weekday][o.start+a].locate="end");for(var a=0;4>a;a++){t.tableView[o.weekday][o.start+n+a].text1=e[r[a]]}}}t.tableView=[[],[],[],[],[],[]],t.tableView.forEach(function(t){for(var e=0;13>e;e++)t.push({length:1})});var n=[];o.forEach(function(t){t.forEach(function(t){0!=t&&n.push(t)})}),n.forEach(function(t){for(var o=t["时间"].split("{time}"),n=0;n<o.length;n++){var a=e.timeParser(o[n]);r(t,a)}})}r(e.courseModel.data),t.$on("courseModelUpdate",function(t,e){r(e)}),t.remove=function(t,o){var r=e.courseModel.data[t][o];e.courseModel.remove(r)},t.hover=function(e,o){for(var r="background:#ddd",n=t.tableView[o][e].No||0,a=t.tableView[o][e].length-n-1||0,i=0;n>=i;i++)t.tableView[o][e-i].style=r;for(var i=0;a>=i;i++)t.tableView[o][e+i].style=r},t.out=function(e,o){for(var r="",n=t.tableView[o][e].No||0,a=t.tableView[o][e].length-n-1||0,i=0;n>=i;i++)t.tableView[o][e-i].style=r;for(var i=0;a>=i;i++)t.tableView[o][e+i].style=r},t.showDetail=function(r,n,a){var i=i||window.event||a;if(0!==e.courseModel.data[r][n]){if(t.detail=e.courseModel.data[r][n],1==t.detailIsShow?(t.detailIsShow=!1,o(function(){t.detailIsShow=!0},0)):t.detailIsShow=!0,0===r||1===r||2===r){var c;c=void 0!=i.layerY?i.layerY-100<0?0:i.layerY-100:i.clientY+$("#bg")[0].scrollTop-100;var s=15*(r+1)+10;t.detailPosition="top:"+c+"px;left:"+s+"%;"}if(3===r||4===r||5===r){var c;c=void 0!=i.layerY?i.layerY-100<0?0:i.layerY-100:i.clientY+$("#bg")[0].scrollTop-100;var l=15*(6-r);t.detailPosition="top:"+c+"px;right:"+l+"%;"}}},t.closeDetail=function(){t.detailIsShow=!1},t.removeCourse=function(){e.courseModel.remove(t.detail)},t.saveToPhone=function(){var o={courses:e.courseModel.getCourseData(),"day-content":["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],"line-color":"#fff","background-color":"#fff",width:480,height:960,"font-size":36,"info-font-size":30,"header-font-size":30,"siderbar-font-size":24},r=JSON.stringify(o);console.log(r),e.saveToPhone({course_data:r}).then(function(e){t.qrcode=!0;var o="http://stu.fudan.edu.cn/xk/img/"+e.data;$(".qrcode").html(""),$(".qrcode").qrcode({width:200,height:200,text:o})})},t.hideQrcode=function(){t.qrcode=!1}}]),module.exports=starkAPP;var starkAPP=require("./app.js");starkAPP.controller("courseTotalController",["$scope","BaseService",function(t,e){function o(e){var o=[],r=[],n=0;e.forEach(function(t){t.forEach(function(t){0!=t&&-1===r.indexOf(t["选课序号"])&&(r.push(t["选课序号"]),o.push(t),n+=parseInt(t["学分"]))})}),t.list=o,t.totalCredit=n}o(e.courseModel.data),t.$on("courseModelUpdate",function(t,e){o(e)})}]),module.exports=starkAPP;var starkAPP=require("./app.js");starkAPP.controller("forumController",["$scope","BaseService",function(t,e){t.commentTitle="点击此处可分享你的上课心得（已有999条评论）",t.showComment=function(){t.commentShow=!t.commentShow,t.commentShow?t.commentTitle="发表评论":t.commentTitle="点击此处可分享你的上课心得（已有999条评论）"},t.search=function(){return t.keywords.length>0?void(t.isSearch=!0):void(t.isSearch=!1)},t.open=function(){window.open("http://stu.fudan.edu.cn/xk/#/forum/course/")}}]),module.exports=starkAPP;var starkAPP=require("./app.js");starkAPP.controller("forumCourseController",["$scope","BaseService",function(t,e){}]),module.exports=starkAPP;var starkAPP=require("./app.js");starkAPP.controller("searchController",["$scope","BaseService","$timeout","$location",function(t,e,o,r){function n(){t.certainCategory={"二专课程":!0,"军事理论":!0,"大学外语":!0,"文科专业课":!0,"模块课程":!0,"理科课程":!0,"留学生":!0,"美育":!0,"计算机":!0}}function a(){t.certainTime={startDay:"一",endDay:"六",startCourse:"1",endCourse:"13"}}function i(o){e.courseModel.check(o)?(t.detail.isInCourseTable=!0,t.detail.text1="已加入课表"):(t.detail.isInCourseTable=!1,t.detail.text1="加入课表"),e.collectionModel.check(o)?(t.detail.isInCollection=!0,t.detail.text2="已在收藏夹"):(t.detail.isInCollection=!1,t.detail.text2="加入收藏夹")}t.$on("showSearch",function(){$(".search").css("z-index","100"),t.searchShow=!0,o(function(){$(".search-bar input").focus()},700)}),t.moreSearchShow=!1,t.keywords="",a(),n(),t.close=function(e){var r=e;/bg/.test(r.target.className)&&(t.searchShow=!1,o(function(){$(".search").css("z-index","-9999")},700))},t.kwChange=function(){var o=[],r={start:t.certainTime.startDay+" "+t.certainTime.startCourse,end:t.certainTime.endDay+" "+t.certainTime.endCourse};for(var n in t.certainCategory)t.certainCategory[n]&&o.push(n);var a={category:o,keywords:t.keywords,time:r};t.result=e.search(a),t.result.length>0?t.resultShow=!0:t.resultShow=!1},t.mouseover=function(){t.detail=this.course,i(t.detail["选课序号"])},t.$on("courseModelUpdate",function(){t.detail&&i(t.detail["选课序号"])}),t.$on("collectionUpdate",function(){t.detail&&i(t.detail["选课序号"])}),t.courseUpdate=function(){e.courseModel.update(this.detail)},t.collectionUpdate=function(){e.collectionModel.update(this.detail)},t.moreSearch=function(){t.moreSearchShow=!t.moreSearchShow}}]),module.exports=starkAPP;var starkAPP=require("./app.js");starkAPP.controller("sidebarController",["$scope","$rootScope","BaseService","$timeout","$location",function(t,e,o,r,n){function a(){t.active={};var e=n.path().split("/")[1];t.active[e+"IsActive"]=!0}a(),t.changeURL=function(t){n.url(t),a()},t.showSearch=function(){e.$broadcast("showSearch")}}]),module.exports=starkAPP;